<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>⚠️ Tamper Alert Dashboard</title>
  <link rel="stylesheet" href="style.css"/>
</head>
<body>
  <div class="container">
    <h1>Tamper Alert Dashboard</h1>
    <div id="log-box">Waiting for alerts...</div>
  </div>

  <script>
    async function loadLogs() {
      const res = await fetch('/.netlify/functions/report');
      const data = await res.json();
      const logBox = document.getElementById("log-box");
      if (data.length === 0) {
        logBox.innerHTML = "No tampering attempts detected.";
      } else {
        logBox.innerHTML = data.map(entry => `
          <div class="log">
            <strong>UUID:</strong> ${entry.uuid}<br>
            <strong>Message:</strong> ${entry.message}<br>
            <strong>Time:</strong> ${entry.timestamp}
          </div>
        `).join("");
      }
    }

    loadLogs();
    setInterval(loadLogs, 5000); // Auto-refresh every 5s
  </script>
</body>
</html>
